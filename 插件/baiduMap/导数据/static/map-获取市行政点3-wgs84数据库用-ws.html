<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<style type="text/css">
		body, html,#allmap {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
	</style>
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=hYCENCEx1nXO0Nt46ldexfG9oI49xBGh"></script>
	<title>添加行政区划</title>
</head>
<body>
	<div id="allmap"></div>
</body>
</html>
<script type="text/javascript" src="./jquery.js" ></script>
<script type="text/javascript" src="http://localhost:8080/socket.io/socket.io.js" ></script>
<script src="./transformationLonLat.js"></script>
<script type="text/javascript">
	// 百度地图API功能
	var map = new BMap.Map("allmap");
	map.centerAndZoom(new BMap.Point(116.403765, 39.914850), 5);
	map.enableScrollWheelZoom();
	
	let data =[
{
"city":"石家庄"
},
{
"city":"邯郸"
},
{
"city":"唐山"
},
{
"city":"保定"
},
{
"city":"秦皇岛"
},
{
"city":"邢台"
},
{
"city":"张家口"
},
{
"city":"承德"
},
{
"city":"沧州"
},
{
"city":"廊坊"
},
{
"city":"衡水"
},
{
"city":"辛集"
},
{
"city":"晋州"
},
{
"city":"新乐"
},
{
"city":"遵化"
},
{
"city":"迁安"
},
{
"city":"霸州"
},
{
"city":"三河"
},
{
"city":"定州"
},
{
"city":"涿州"
},
{
"city":"安国"
},
{
"city":"高碑店"
},
{
"city":"泊头"
},
{
"city":"任丘"
},
{
"city":"黄骅"
},
{
"city":"河间"
},
{
"city":"冀州"
},
{
"city":"深州"
},
{
"city":"南宫"
},
{
"city":"沙河"
},
{
"city":"武安"
},
{
"city":"太原"
},
{
"city":"大同"
},
{
"city":"朔州"
},
{
"city":"阳泉"
},
{
"city":"长治"
},
{
"city":"晋城"
},
{
"city":"忻州"
},
{
"city":"吕梁"
},
{
"city":"晋中"
},
{
"city":"临汾"
},
{
"city":"运城"
},
{
"city":"古交"
},
{
"city":"潞城"
},
{
"city":"高平"
},
{
"city":"原平"
},
{
"city":"孝义"
},
{
"city":"汾阳"
},
{
"city":"介休"
},
{
"city":"侯马"
},
{
"city":"霍州"
},
{
"city":"永济"
},
{
"city":"河津"
},
{
"city":"呼和浩特"
},
{
"city":"包头"
},
{
"city":"乌海"
},
{
"city":"赤峰"
},
{
"city":"呼伦贝尔"
},
{
"city":"通辽"
},
{
"city":"乌兰察布"
},
{
"city":"鄂尔多斯"
},
{
"city":"巴彦淖尔"
},
{
"city":"满洲里"
},
{
"city":"扎兰屯"
},
{
"city":"牙克石"
},
{
"city":"根河"
},
{
"city":"额尔古纳"
},
{
"city":"乌兰浩特"
},
{
"city":"阿尔山"
},
{
"city":"霍林郭勒"
},
{
"city":"锡林浩特"
},
{
"city":"二连浩特"
},
{
"city":"丰镇"
},
{
"city":"沈阳"
},
{
"city":"大连"
},
{
"city":"朝阳"
},
{
"city":"阜新"
},
{
"city":"铁岭"
},
{
"city":"抚顺"
},
{
"city":"本溪"
},
{
"city":"辽阳"
},
{
"city":"鞍山"
},
{
"city":"丹东"
},
{
"city":"营口"
},
{
"city":"盘锦"
},
{
"city":"锦州"
},
{
"city":"葫芦岛"
},
{
"city":"新民"
},
{
"city":"瓦房店"
},
{
"city":"庄河"
},
{
"city":"北票"
},
{
"city":"凌源"
},
{
"city":"调兵山"
},
{
"city":"开原"
},
{
"city":"灯塔"
},
{
"city":"海城"
},
{
"city":"凤城"
},
{
"city":"东港"
},
{
"city":"大石桥"
},
{
"city":"盖州"
},
{
"city":"凌海"
},
{
"city":"北镇"
},
{
"city":"兴城"
},
{
"city":"长春"
},
{
"city":"吉林"
},
{
"city":"白城"
},
{
"city":"松原"
},
{
"city":"四平"
},
{
"city":"辽源"
},
{
"city":"通化"
},
{
"city":"白山"
},
{
"city":"德惠"
},
{
"city":"榆树"
},
{
"city":"磐石"
},
{
"city":"蛟河"
},
{
"city":"桦甸"
},
{
"city":"舒兰"
},
{
"city":"洮南"
},
{
"city":"大安"
},
{
"city":"双辽"
},
{
"city":"公主岭"
},
{
"city":"梅河口"
},
{
"city":"集安"
},
{
"city":"临江"
},
{
"city":"延吉"
},
{
"city":"图们"
},
{
"city":"敦化"
},
{
"city":"珲春"
},
{
"city":"龙井"
},
{
"city":"和龙"
},
{
"city":"扶余"
},
{
"city":"哈尔滨"
},
{
"city":"齐齐哈尔"
},
{
"city":"黑河"
},
{
"city":"大庆"
},
{
"city":"伊春"
},
{
"city":"鹤岗"
},
{
"city":"佳木斯"
},
{
"city":"双鸭山"
},
{
"city":"七台河"
},
{
"city":"鸡西"
},
{
"city":"牡丹江"
},
{
"city":"绥化"
},
{
"city":"尚志"
},
{
"city":"五常"
},
{
"city":"讷河"
},
{
"city":"北安"
},
{
"city":"五大连池"
},
{
"city":"铁力"
},
{
"city":"同江"
},
{
"city":"富锦"
},
{
"city":"虎林"
},
{
"city":"密山"
},
{
"city":"绥芬河"
},
{
"city":"海林"
},
{
"city":"宁安"
},
{
"city":"安达"
},
{
"city":"肇东"
},
{
"city":"海伦"
},
{
"city":"穆棱"
},
{
"city":"东宁"
},
{
"city":"抚远"
},
{
"city":"南京"
},
{
"city":"徐州"
},
{
"city":"连云港"
},
{
"city":"宿迁"
},
{
"city":"淮安"
},
{
"city":"盐城"
},
{
"city":"扬州"
},
{
"city":"泰州"
},
{
"city":"南通"
},
{
"city":"镇江"
},
{
"city":"常州"
},
{
"city":"无锡"
},
{
"city":"苏州"
},
{
"city":"常熟"
},
{
"city":"张家港"
},
{
"city":"太仓"
},
{
"city":"昆山"
},
{
"city":"江阴"
},
{
"city":"宜兴"
},
{
"city":"溧阳"
},
{
"city":"扬中"
},
{
"city":"句容"
},
{
"city":"丹阳"
},
{
"city":"如皋"
},
{
"city":"海门"
},
{
"city":"启东"
},
{
"city":"高邮"
},
{
"city":"仪征"
},
{
"city":"兴化"
},
{
"city":"泰兴"
},
{
"city":"靖江"
},
{
"city":"东台"
},
{
"city":"邳州"
},
{
"city":"新沂"
},
{
"city":"杭州"
},
{
"city":"宁波"
},
{
"city":"湖州"
},
{
"city":"嘉兴"
},
{
"city":"舟山"
},
{
"city":"绍兴"
},
{
"city":"衢州"
},
{
"city":"金华"
},
{
"city":"台州"
},
{
"city":"温州"
},
{
"city":"丽水"
},
{
"city":"临安"
},
{
"city":"建德"
},
{
"city":"慈溪"
},
{
"city":"余姚"
},
{
"city":"平湖"
},
{
"city":"海宁"
},
{
"city":"桐乡"
},
{
"city":"诸暨"
},
{
"city":"嵊州"
},
{
"city":"江山"
},
{
"city":"兰溪"
},
{
"city":"永康"
},
{
"city":"义乌"
},
{
"city":"东阳"
},
{
"city":"临海"
},
{
"city":"温岭"
},
{
"city":"瑞安"
},
{
"city":"乐清"
},
{
"city":"龙泉"
},
{
"city":"合肥"
},
{
"city":"芜湖"
},
{
"city":"蚌埠"
},
{
"city":"淮南"
},
{
"city":"马鞍山"
},
{
"city":"淮北"
},
{
"city":"铜陵"
},
{
"city":"安庆"
},
{
"city":"黄山"
},
{
"city":"滁州"
},
{
"city":"阜阳"
},
{
"city":"宿州"
},
{
"city":"六安"
},
{
"city":"亳州"
},
{
"city":"池州"
},
{
"city":"宣城"
},
{
"city":"巢湖"
},
{
"city":"桐城"
},
{
"city":"天长"
},
{
"city":"明光"
},
{
"city":"界首"
},
{
"city":"宁国"
},
{
"city":"厦门"
},
{
"city":"福州"
},
{
"city":"南平"
},
{
"city":"三明"
},
{
"city":"莆田"
},
{
"city":"泉州"
},
{
"city":"漳州"
},
{
"city":"龙岩"
},
{
"city":"宁德"
},
{
"city":"福清"
},
{
"city":"长乐"
},
{
"city":"邵武"
},
{
"city":"武夷山"
},
{
"city":"建瓯"
},
{
"city":"永安"
},
{
"city":"石狮"
},
{
"city":"晋江"
},
{
"city":"南安"
},
{
"city":"龙海"
},
{
"city":"漳平"
},
{
"city":"福安"
},
{
"city":"福鼎"
},
{
"city":"南昌"
},
{
"city":"九江"
},
{
"city":"景德镇"
},
{
"city":"鹰潭"
},
{
"city":"新余"
},
{
"city":"萍乡"
},
{
"city":"赣州"
},
{
"city":"上饶"
},
{
"city":"抚州"
},
{
"city":"宜春"
},
{
"city":"吉安"
},
{
"city":"瑞昌"
},
{
"city":"共青城"
},
{
"city":"乐平"
},
{
"city":"瑞金"
},
{
"city":"德兴"
},
{
"city":"丰城"
},
{
"city":"樟树"
},
{
"city":"高安"
},
{
"city":"井冈山"
},
{
"city":"贵溪"
},
{
"city":"济南"
},
{
"city":"青岛"
},
{
"city":"聊城"
},
{
"city":"德州"
},
{
"city":"东营"
},
{
"city":"淄博"
},
{
"city":"潍坊"
},
{
"city":"烟台"
},
{
"city":"威海"
},
{
"city":"日照"
},
{
"city":"临沂"
},
{
"city":"枣庄"
},
{
"city":"济宁"
},
{
"city":"泰安"
},
{
"city":"莱芜"
},
{
"city":"滨州"
},
{
"city":"菏泽"
},
{
"city":"胶州"
},
{
"city":"即墨"
},
{
"city":"平度"
},
{
"city":"莱西"
},
{
"city":"临清"
},
{
"city":"乐陵"
},
{
"city":"禹城"
},
{
"city":"安丘"
},
{
"city":"昌邑"
},
{
"city":"高密"
},
{
"city":"青州"
},
{
"city":"诸城"
},
{
"city":"寿光"
},
{
"city":"栖霞"
},
{
"city":"海阳"
},
{
"city":"龙口"
},
{
"city":"莱阳"
},
{
"city":"莱州"
},
{
"city":"蓬莱"
},
{
"city":"招远"
},
{
"city":"荣成"
},
{
"city":"乳山"
},
{
"city":"滕州"
},
{
"city":"曲阜"
},
{
"city":"邹城"
},
{
"city":"新泰"
},
{
"city":"肥城"
},
{
"city":"郑州"
},
{
"city":"开封"
},
{
"city":"洛阳"
},
{
"city":"平顶山"
},
{
"city":"安阳"
},
{
"city":"鹤壁"
},
{
"city":"新乡"
},
{
"city":"焦作"
},
{
"city":"濮阳"
},
{
"city":"许昌"
},
{
"city":"漯河"
},
{
"city":"三门峡"
},
{
"city":"南阳"
},
{
"city":"商丘"
},
{
"city":"周口"
},
{
"city":"驻马店"
},
{
"city":"信阳"
},
{
"city":"荥阳"
},
{
"city":"新郑"
},
{
"city":"登封"
},
{
"city":"新密"
},
{
"city":"偃师"
},
{
"city":"孟州"
},
{
"city":"沁阳"
},
{
"city":"卫辉"
},
{
"city":"辉县"
},
{
"city":"林州"
},
{
"city":"禹州"
},
{
"city":"长葛"
},
{
"city":"舞钢"
},
{
"city":"义马"
},
{
"city":"灵宝"
},
{
"city":"项城"
},
{
"city":"巩义"
},
{
"city":"邓州"
},
{
"city":"永城"
},
{
"city":"汝州"
},
{
"city":"济源"
},
{
"city":"武汉"
},
{
"city":"十堰"
},
{
"city":"襄阳"
},
{
"city":"荆门"
},
{
"city":"孝感"
},
{
"city":"黄冈"
},
{
"city":"鄂州"
},
{
"city":"黄石"
},
{
"city":"咸宁"
},
{
"city":"荆州"
},
{
"city":"宜昌"
},
{
"city":"随州"
},
{
"city":"丹江口"
},
{
"city":"老河口"
},
{
"city":"枣阳"
},
{
"city":"宜城"
},
{
"city":"钟祥"
},
{
"city":"汉川"
},
{
"city":"应城"
},
{
"city":"安陆"
},
{
"city":"广水"
},
{
"city":"麻城"
},
{
"city":"武穴"
},
{
"city":"大冶"
},
{
"city":"赤壁"
},
{
"city":"石首"
},
{
"city":"洪湖"
},
{
"city":"松滋"
},
{
"city":"宜都"
},
{
"city":"枝江"
},
{
"city":"当阳"
},
{
"city":"恩施"
},
{
"city":"利川"
},
{
"city":"仙桃"
},
{
"city":"天门"
},
{
"city":"潜江"
},
{
"city":"长沙"
},
{
"city":"衡阳"
},
{
"city":"张家界"
},
{
"city":"常德"
},
{
"city":"益阳"
},
{
"city":"岳阳"
},
{
"city":"株洲"
},
{
"city":"湘潭"
},
{
"city":"郴州"
},
{
"city":"永州"
},
{
"city":"邵阳"
},
{
"city":"怀化"
},
{
"city":"娄底"
},
{
"city":"耒阳"
},
{
"city":"常宁"
},
{
"city":"浏阳"
},
{
"city":"津市"
},
{
"city":"沅江"
},
{
"city":"汨罗"
},
{
"city":"临湘"
},
{
"city":"醴陵"
},
{
"city":"湘乡"
},
{
"city":"韶山"
},
{
"city":"资兴"
},
{
"city":"武冈"
},
{
"city":"洪江"
},
{
"city":"冷水江"
},
{
"city":"涟源"
},
{
"city":"吉首"
},
{
"city":"广州"
},
{
"city":"深圳"
},
{
"city":"清远"
},
{
"city":"韶关"
},
{
"city":"河源"
},
{
"city":"梅州"
},
{
"city":"潮州"
},
{
"city":"汕头"
},
{
"city":"揭阳"
},
{
"city":"汕尾"
},
{
"city":"惠州"
},
{
"city":"东莞"
},
{
"city":"珠海"
},
{
"city":"中山"
},
{
"city":"江门"
},
{
"city":"佛山"
},
{
"city":"肇庆"
},
{
"city":"云浮"
},
{
"city":"阳江"
},
{
"city":"茂名"
},
{
"city":"湛江"
},
{
"city":"英德"
},
{
"city":"连州"
},
{
"city":"乐昌"
},
{
"city":"南雄"
},
{
"city":"兴宁"
},
{
"city":"普宁"
},
{
"city":"陆丰"
},
{
"city":"恩平"
},
{
"city":"台山"
},
{
"city":"开平"
},
{
"city":"鹤山"
},
{
"city":"四会"
},
{
"city":"罗定"
},
{
"city":"阳春"
},
{
"city":"化州"
},
{
"city":"信宜"
},
{
"city":"高州"
},
{
"city":"吴川"
},
{
"city":"廉江"
},
{
"city":"雷州"
},
{
"city":"南宁"
},
{
"city":"桂林"
},
{
"city":"柳州"
},
{
"city":"梧州"
},
{
"city":"贵港"
},
{
"city":"玉林"
},
{
"city":"钦州"
},
{
"city":"北海"
},
{
"city":"防城港"
},
{
"city":"崇左"
},
{
"city":"百色"
},
{
"city":"河池"
},
{
"city":"来宾"
},
{
"city":"贺州"
},
{
"city":"岑溪"
},
{
"city":"桂平"
},
{
"city":"北流"
},
{
"city":"东兴"
},
{
"city":"凭祥"
},
{
"city":"宜州"
},
{
"city":"合山"
},
{
"city":"靖西"
},
{
"city":"海口"
},
{
"city":"三亚"
},
{
"city":"三沙"
},
{
"city":"儋州"
},
{
"city":"文昌"
},
{
"city":"琼海"
},
{
"city":"万宁"
},
{
"city":"东方"
},
{
"city":"五指山"
},
{
"city":"成都"
},
{
"city":"广元"
},
{
"city":"绵阳"
},
{
"city":"德阳"
},
{
"city":"南充"
},
{
"city":"广安"
},
{
"city":"遂宁"
},
{
"city":"内江"
},
{
"city":"乐山"
},
{
"city":"自贡"
},
{
"city":"泸州"
},
{
"city":"宜宾"
},
{
"city":"攀枝花"
},
{
"city":"巴中"
},
{
"city":"达州"
},
{
"city":"资阳"
},
{
"city":"眉山"
},
{
"city":"雅安"
},
{
"city":"崇州"
},
{
"city":"邛崃"
},
{
"city":"都江堰"
},
{
"city":"彭州"
},
{
"city":"江油"
},
{
"city":"什邡"
},
{
"city":"广汉"
},
{
"city":"绵竹"
},
{
"city":"阆中"
},
{
"city":"华蓥"
},
{
"city":"峨眉山"
},
{
"city":"万源"
},
{
"city":"简阳"
},
{
"city":"西昌"
},
{
"city":"康定"
},
{
"city":"马尔康"
},
{
"city":"贵阳"
},
{
"city":"六盘水"
},
{
"city":"遵义"
},
{
"city":"安顺"
},
{
"city":"毕节"
},
{
"city":"铜仁"
},
{
"city":"清镇"
},
{
"city":"赤水"
},
{
"city":"仁怀"
},
{
"city":"凯里"
},
{
"city":"都匀"
},
{
"city":"兴义"
},
{
"city":"福泉"
},
{
"city":"昆明"
},
{
"city":"曲靖"
},
{
"city":"玉溪"
},
{
"city":"丽江"
},
{
"city":"昭通"
},
{
"city":"普洱"
},
{
"city":"临沧"
},
{
"city":"保山"
},
{
"city":"安宁"
},
{
"city":"宣威"
},
{
"city":"芒市"
},
{
"city":"瑞丽"
},
{
"city":"大理"
},
{
"city":"楚雄"
},
{
"city":"个旧"
},
{
"city":"开远"
},
{
"city":"蒙自"
},
{
"city":"弥勒"
},
{
"city":"景洪"
},
{
"city":"文山"
},
{
"city":"香格里拉"
},
{
"city":"腾冲"
},
{
"city":"西安"
},
{
"city":"延安"
},
{
"city":"铜川"
},
{
"city":"渭南"
},
{
"city":"咸阳"
},
{
"city":"宝鸡"
},
{
"city":"汉中"
},
{
"city":"榆林"
},
{
"city":"商洛"
},
{
"city":"安康"
},
{
"city":"韩城"
},
{
"city":"华阴"
},
{
"city":"兴平"
},
{
"city":"兰州"
},
{
"city":"嘉峪关"
},
{
"city":"金昌"
},
{
"city":"白银"
},
{
"city":"天水"
},
{
"city":"酒泉"
},
{
"city":"张掖"
},
{
"city":"武威"
},
{
"city":"庆阳"
},
{
"city":"平凉"
},
{
"city":"定西"
},
{
"city":"陇南"
},
{
"city":"玉门"
},
{
"city":"敦煌"
},
{
"city":"临夏"
},
{
"city":"合作"
},
{
"city":"西宁"
},
{
"city":"海东"
},
{
"city":"格尔木"
},
{
"city":"德令哈"
},
{
"city":"玉树"
},
{
"city":"拉萨"
},
{
"city":"日喀则"
},
{
"city":"昌都"
},
{
"city":"林芝"
},
{
"city":"山南"
},
{
"city":"银川"
},
{
"city":"石嘴山"
},
{
"city":"吴忠"
},
{
"city":"中卫"
},
{
"city":"固原"
},
{
"city":"灵武"
},
{
"city":"青铜峡"
},
{
"city":"台北"
},
{
"city":"新北"
},
{
"city":"桃园"
},
{
"city":"台中"
},
{
"city":"台南"
},
{
"city":"高雄"
},
{
"city":"基隆"
},
{
"city":"新竹"
},
{
"city":"嘉义"
},
{
"city":"北京"
},
{
"city":"天津"
},
{
"city":"上海"
},
{
"city":"重庆"
},
{
"city":"香港特别行政区"
},
{
"city":"澳门特别行政区"
},
{
"city":"乌鲁木齐"
},
{
"city":"克拉玛依"
},
{
"city":"吐鲁番"
},
{
"city":"哈密"
},
{
"city":"喀什"
},
{
"city":"阿克苏"
},
{
"city":"和田"
},
{
"city":"阿图什"
},
{
"city":"阿拉山口"
},
{
"city":"博乐"
},
{
"city":"昌吉"
},
{
"city":"阜康"
},
{
"city":"库尔勒"
},
{
"city":"伊宁"
},
{
"city":"奎屯"
},
{
"city":"塔城"
},
{
"city":"乌苏"
},
{
"city":"阿勒泰"
},
{
"city":"霍尔果斯"
},
{
"city":"石河子"
},
{
"city":"阿拉尔"
},
{
"city":"图木舒克"
},
{
"city":"五家渠"
},
{
"city":"北屯"
},
{
"city":"铁门关"
},
{
"city":"双河"
},
{
"city":"可克达拉"
},
{
"city":"昆玉"
}
];
/*data = data.filter((val,index)=>{
  return index<2;
})*/
var len =data.length;

  let sock = io.connect("ws://localhost:8080");
  sock.on("connect",()=>{
    console.log("连接成功")
  })

	$.each(data, function(index,val) {
		var bdary = new BMap.Boundary();
		bdary.get(val.city, function(rs){       //获取行政区域
			var count = rs.boundaries.length; //行政区域的点有多少个
			if(rs.boundaries.length>0){
			  for(let b of rs.boundaries){
			    for(let p of b.split(";")){
			      let jindu = p.split(",")[0];
			      let weidu = p.split(",")[1];
			      let temp = coordtransform.bd09togcj02(jindu,weidu)
			      temp = coordtransform.gcj02towgs84(temp[0],temp[1]);
			      //res +=`"${val.city}"\t"${temp[0]}"\t"${temp[1]}"\r\n`;
			      sock.emit("str",JSON.stringify({city_name:val.city,lon:jindu,lat:weidu}));
			    }
			  }
			}
			if(index==(len-1)){
			 
			}
		});   
	});
	
	
	
</script>
