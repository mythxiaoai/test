/*
http://www.91aiot.com/
ydl
ydl@1235

http://www.91aiot.com/sim/simInfo/searchSimInfo
draw:1
columns[0][data]:id
columns[0][name]:
columns[0][searchable]:true
columns[0][orderable]:false
columns[0][search][value]:
columns[0][search][regex]:false
columns[1][data]:id
columns[1][name]:
columns[1][searchable]:true
columns[1][orderable]:true
columns[1][search][value]:
columns[1][search][regex]:false
columns[2][data]:cardNo
columns[2][name]:
columns[2][searchable]:true
columns[2][orderable]:false
columns[2][search][value]:
columns[2][search][regex]:false
columns[3][data]:iccid
columns[3][name]:
columns[3][searchable]:true
columns[3][orderable]:false
columns[3][search][value]:
columns[3][search][regex]:false
columns[4][data]:state
columns[4][name]:
columns[4][searchable]:true
columns[4][orderable]:false
columns[4][search][value]:
columns[4][search][regex]:false
columns[5][data]:beenUsedFlow
columns[5][name]:
columns[5][searchable]:true
columns[5][orderable]:false
columns[5][search][value]:
columns[5][search][regex]:false
columns[6][data]:residualFlow
columns[6][name]:
columns[6][searchable]:true
columns[6][orderable]:false
columns[6][search][value]:
columns[6][search][regex]:false
columns[7][data]:trafficPackage
columns[7][name]:
columns[7][searchable]:true
columns[7][orderable]:false
columns[7][search][value]:
columns[7][search][regex]:false
columns[8][data]:sendMessageNum
columns[8][name]:
columns[8][searchable]:true
columns[8][orderable]:false
columns[8][search][value]:
columns[8][search][regex]:false
columns[9][data]:remark
columns[9][name]:
columns[9][searchable]:true
columns[9][orderable]:false
columns[9][search][value]:
columns[9][search][regex]:false
columns[10][data]:orgName
columns[10][name]:
columns[10][searchable]:true
columns[10][orderable]:false
columns[10][search][value]:
columns[10][search][regex]:false
columns[11][data]:belongCity
columns[11][name]:
columns[11][searchable]:true
columns[11][orderable]:false
columns[11][search][value]:
columns[11][search][regex]:false
columns[12][data]:activateTime
columns[12][name]:
columns[12][searchable]:true
columns[12][orderable]:true
columns[12][search][value]:
columns[12][search][regex]:false
columns[13][data]:
columns[13][name]:
columns[13][searchable]:true
columns[13][orderable]:false
columns[13][search][value]:
columns[13][search][regex]:false
order[0][column]:1
order[0][dir]:asc
start:0
length:50
search[value]:
search[regex]:false
cardNo:
iccid:
state://状态  0为激活
beenUsedFlow:
residualFlow:
dateStart:
dateEnd:
startNo:
endNo:
trafficPackage:
orgId:
soldState:2
belongCity:

"id":"102024",
"lastUpTime":"2019-04-04 10:31:24",
"orgId":"163",
"cardNo":"1064869641678",
"iccid":"898602B62518C0061678",
"state":"00",
"activateTime":"2018-12-19 08:18:09","expireTime":"2019-11-19 08:18:09","beenUsedFlow":"3.77",
"residualFlow":"26.23","totalFlow":"30","promptThresholdFlow":null,"warnThresholdFlow":null,
"offThresholdFlow":null,"inPrice":null,"outPrice":"60","trafficPackage":"30","sendMessageNum":10,
"belongCity":"myn","simFlag":"","prodId":"I00010300040","prodName":"流量共享（月包模式）可选产品",
"prodinstId":"987118103050002984","balance":"50","createTime":"2018-11-07 16:36:42",
"outTime":"2018-12-06 11:54:04","stopTime":null,"imsi":"460040696401678",
"rechargeTime":null,"deviceBrand":"JA","deviceId":null,"remark":"box2","deviceType":"H10",
"imei":"350183447586722","ip":"10.120.169.109","apn":"CMMTM","rat":"2","gprsState":"00",
"onOff":"0","openId":null,"stopReason":null,"simCycle":"12","startNo":null,"endNo":null,
"startCard":null,"endCard":null,"orgCode":null,"soldTotal":null,"soldState":null,"orgName":"原动力",
"cardNos":null,"iccids":null,"dateStart":null,"dateEnd":null,"logisticsNo":null,"logisticsName":null

http://www.91aiot.com/sim/simInfo/sendSmsSimInfo?cardNos=1064869641678&t=1554354528156
cardNos:1064869641678
请求页面
http://www.91aiot.com/resources/global/plugins/chineseRegion/bootstrap-chinese-region.js?_=1554354477515
请求js
http://www.91aiot.com/sim/simInfo/getBrands
请求设备
{"code":"0","desc":"获取成功","data":[{"id":"1","level":"1","upid":"0","ename":null,"pinyin":null,"cname":"GPS导航"},{"id":"2","level":"1","upid":"0","ename":null,"pinyin":null,"cname":"OBD设备"},{"id":"3","level":"2","upid":"1","ename":null,"pinyin":null,"cname":"GPS-1"},{"id":"4","level":"2","upid":"1","ename":null,"pinyin":null,"cname":"GPS-2"},{"id":"5","level":"3","upid":"3","ename":null,"pinyin":null,"cname":"设置IP"},{"id":"6","level":"4","upid":"5","ename":null,"pinyin":null,"cname":"ip 42.96.210.156 5500"},{"id":"7","level":"3","upid":"3","ename":null,"pinyin":null,"cname":"查询"},{"id":"8","level":"4","upid":"7","ename":null,"pinyin":null,"cname":"cxzt"},{"id":"16","level":"1","upid":"0","ename":null,"pinyin":null,"cname":"后视镜"},{"id":"17","level":"2","upid":"16","ename":null,"pinyin":null,"cname":"后视镜-1"},{"id":"18","level":"3","upid":"17","ename":null,"pinyin":null,"cname":"设置"},{"id":"19","level":"4","upid":"18","ename":null,"pinyin":null,"cname":"#dododo1"},{"id":"20","level":"3","upid":"3","ename":null,"pinyin":null,"cname":"联网上线"},{"id":"21","level":"4","upid":"20","ename":null,"pinyin":null,"cname":"*092311#61*0*64000000000*0*晋F00000*LABCDEFGHIGK00000#"},{"id":"22","level":"3","upid":"3","ename":null,"pinyin":null,"cname":"设置司机卡"},{"id":"23","level":"4","upid":"22","ename":null,"pinyin":null,"cname":"*092311#46*张三*140600000000000000*0*朔州市公安局#"},{"id":"24","level":"3","upid":"3","ename":null,"pinyin":null,"cname":"终端复位重启"},{"id":"25","level":"4","upid":"24","ename":null,"pinyin":null,"cname":"PSOFAR218RESET"},{"id":"26","level":"3","upid":"3","ename":null,"pinyin":null,"cname":"修改设备密码"},{"id":"27","level":"4","upid":"26","ename":null,"pinyin":null,"cname":"*092311#33*201311#"},{"id":"28","level":"1","upid":"0","ename":null,"pinyin":null,"cname":"BSJ"},{"id":"29","level":"2","upid":"28","ename":null,"pinyin":null,"cname":"通用"},{"id":"30","level":"3","upid":"29","ename":null,"pinyin":null,"cname":"查询指令"},{"id":"31","level":"4","upid":"30","ename":null,"pinyin":null,"cname":"<CKBSJ>"},{"id":"32","level":"1","upid":"0","ename":null,"pinyin":null,"cname":"ZCXT"},{"id":"33","level":"2","upid":"32","ename":null,"pinyin":null,"cname":"V4"},{"id":"34","level":"3","upid":"33","ename":null,"pinyin":null,"cname":"查询参数指令"},{"id":"35","level":"4","upid":"34","ename":null,"pinyin":null,"cname":"*#SET*0000000000000000*T#"},{"id":"36","level":"1","upid":"0","ename":null,"pinyin":null,"cname":"ZCXT"},{"id":"37","level":"2","upid":"36","ename":null,"pinyin":null,"cname":"V4"},{"id":"38","level":"3","upid":"37","ename":null,"pinyin":null,"cname":"重启指令"},{"id":"39","level":"4","upid":"38","ename":null,"pinyin":null,"cname":"*#SET*0000000000000000*R#"},{"id":"40","level":"3","upid":"33","ename":null,"pinyin":null,"cname":"查询参数指令"},{"id":"41","level":"4","upid":"40","ename":null,"pinyin":null,"cname":"*#SET*0000000000000000*R#"},{"id":"42","level":"3","upid":"37","ename":null,"pinyin":null,"cname":"查询参数指令"},{"id":"43","level":"4","upid":"42","ename":null,"pinyin":null,"cname":"*#SET*0000000000000000*Z1,2171102001,58.56.66.163.4999,cmnet##"},{"id":"44","level":"1","upid":"0","ename":null,"pinyin":null,"cname":"aigps"},{"id":"45","level":"2","upid":"44","ename":null,"pinyin":null,"cname":"pet"},{"id":"46","level":"3","upid":"45","ename":null,"pinyin":null,"cname":"查询"},{"id":"47","level":"4","upid":"46","ename":null,"pinyin":null,"cname":"(4P)"},{"id":"48","level":"3","upid":"33","ename":null,"pinyin":null,"cname":"连接平台"},{"id":"49","level":"4","upid":"48","ename":null,"pinyin":null,"cname":"*#SET*PNB2161103031BRC*Z1064807127425,2161103031,058.056.066.163.4999,CMNET#"},{"id":"50","level":"3","upid":"33","ename":null,"pinyin":null,"cname":"重新启动"},{"id":"51","level":"4","upid":"50","ename":null,"pinyin":null,"cname":"*#SET*PNB2130310942BRC*R#"},{"id":"52","level":"3","upid":"33","ename":null,"pinyin":null,"cname":"连接平台"},{"id":"53","level":"4","upid":"52","ename":null,"pinyin":null,"cname":"*#SET*1111*S14701340680,2151207003,058.056.066.163,,4999,CMNET#"},{"id":"54","level":"3","upid":"29","ename":null,"pinyin":null,"cname":"连接平台"},{"id":"55","level":"4","upid":"54","ename":null,"pinyin":null,"cname":"<SPBSJ*P:BSJINI*T:058.056.066.163,3999*U:058.056.066.163,3999*A:CMNET*N:14140133605>"},{"id":"68","level":"3","upid":"17","ename":null,"pinyin":null,"cname":"test"},{"id":"70","level":"1","upid":"0","ename":null,"pinyin":null,"cname":"test"},{"id":"71","level":"2","upid":"70","ename":null,"pinyin":null,"cname":"test"},{"id":"72","level":"3","upid":"71","ename":null,"pinyin":null,"cname":"test"}]}

http://www.91aiot.com/sim/simInfo/doSendSmsSimInfo
cardNos:1064869641678
content:1

{"code":"0","desc":"短信发送成功","data":{"id":"6fb2d62264be4d4c87e819f64d023215","lastUpTime":"2019-04-04 13:12:39","cardNo":"1064869641678","type":null,"sendContent":"1","respondContent":null,"sendStatus":"0","respondStatus":null,"sendTime":"2019-04-04 13:12:39","respondTime":null,"opeator":"ydl","sequenceId":null,"orgId":"163","orgName":null,"sendNum":null,"dateStart":null,"dateEnd":null,"cycle":null,"orgCode":null}}


使用方法:
1.  http://www.91aiot.com/  登陆
2.  F12  切换到控制台(console)
3.  复制下面代码
4.  按回车键   静静等待反馈结果~  执行完成后去对应页面查验

配置参数  
content  发送的内容  字符串形式

listcardNos    卡号   数组形式    里面是字符串形式哦 要用双引号  例如 ["1064869641709","1064869641709","1064869641709"]
*注  
1.如果 listcardNos 不写  则会发送内容给全部的卡号
2.如果需要加一些筛选条件  可以在 172行代码哪里的data里加  比如加 {...,"state":0}  则会查询全部激活的卡进行发送内容 具体参数可以F12去找对应关系  上面也有字段参照

*/


(async ()=>{
   //发送内容
  let content="test";
   //卡号
  let listcardNos = ["1064869641709"];
  
  if(listcardNos.length==0){
    let total = (await $.ajax({
      type:"post",
      data:{"draw":1,"start":0,"length":99999,"soldState":2},
      url:"http://www.91aiot.com/sim/simInfo/searchSimInfo"
    })).data;
    let len = total.length;
    console.log(`--------------------总共条数有:${len}条--------------------`);
    total.map((v,i)=>{
        $.ajax({
          type:"post",
          data:{cardNos:v.cardNo,content:content},
          url:"http://www.91aiot.com/sim/simInfo/doSendSmsSimInfo",
          success(){
            let p = (i+1)/len;
            console.log(`----------${(p*100).toFixed(2)}%----------`);
          }
        });
    });
  }else{
    let len = listcardNos.length;
     console.log(`--------------------总共条数有:${len}条--------------------`);
      listcardNos.map((v,i)=>{
          $.ajax({
            type:"post",
            data:{cardNos:v,content:content},
            url:"http://www.91aiot.com/sim/simInfo/doSendSmsSimInfo",
            success(){
              let p = (i+1)/len;
              console.log(`----------${(p*100).toFixed(2)}%----------`);
            }
          });
      });
  }
})()