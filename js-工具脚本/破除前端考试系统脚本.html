<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="red.css" />
  </head>
  <body>
    我是body
    <!-- <script src="aoc.js"></script> -->
    <script>


/*

解决问题：适合全浏览器   切屏和全屏导致考试警告

使用方法：
1. 进入考试前，按F12
2. 进入考试后，在F12弹出框的控制台粘贴下面代码，按回车键，返回null返回代码已经执行
注意：(当鼠标移开页面点击其他地方这时候会提示一次切屏，别担心，代码运行后解除)
3. 验证是否生效，来回切换看是否出现警告提示。

小技巧:如果切屏次数过高，可以换个浏览器会重新计算，当然答案得重新填写~

window.onblur = null;
document.documentElement.requestFullscreen = null;
document.documentElement.webkitRequestFullscreen = null;
document.body.msRequestFullscreen = null;
document.documentElement.mozRequestFullScreen = null;
*/

//IE绑定在body上才生效

setTimeout(()=>{
	showFullScreen();
},2000)
 //进入全屏

 function showFullScreen(){
    lastFullScreenFlag=true;//如果不需要实现防作弊功能，请注释此行
    if (!document.fullscreenElement &&!document.mozFullScreenElement 
    && !document.webkitFullscreenElement &&!document.msFullscreenElement) { 
        if (document.documentElement.requestFullscreen) {
            document.documentElement.requestFullscreen();
        } else if (document.documentElement.msRequestFullscreen) {
            document.documentElement.msRequestFullscreen();
        } else if (document.documentElement.mozRequestFullScreen) {
            document.documentElement.mozRequestFullScreen();
        } else if (document.documentElement.webkitRequestFullscreen) {
            document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
        }
    }
}


function exitFullScreen() {
    var obj = document;
    if (document.exitFullscree) {
        document.exitFullscree();
    } else if (document.webkitExitFullscreen) {
        document.webkitExitFullscreen();
    } else if (document.msExitFullscreen) {
        document.msExitFullscreen();
    } else if (document.mozCancelFullScreen) {
        document.mozCancelFullScreen();
    }
}


window.onresize = function() {
    var currentFullScreenFlag=checkFull();
    if (lastFullScreenFlag&&!currentFullScreenFlag) {
        exitFullscreenNum--;
        if(exitFullscreenNum>=0){
            alert("你还有"+(exitFullscreenNum)+"次退出全屏的机会！");
            lastFullScreenFlag=false;
        }
        else{
            alert("你已经不能退出全屏！");
            showFullScreen();
        }
    }
}


//判断是否全屏
function checkFull() {
    var isFull = false;
    if (document.fullscreenEnabled || document.msFullscreenEnabled ) {
        isFull = window.fullScreen || document.webkitIsFullScreen;
        if (isFull === undefined) {
            isFull = false;
        }
    }
    return isFull;
} 




    </script>
  </body>
</html>
