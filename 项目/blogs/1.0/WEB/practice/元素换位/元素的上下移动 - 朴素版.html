<!doctype html>
<html>
	<head>
	    <!--声明当前页面的编码集：中文编码（gbk/gb2312）,国际编码（utf-8）-->
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
		<!--页面三要素-->
		<title>国际标准模板</title><!--小于等于31 大小写不区分-->
		<meta name="Keywords" content="关键词,关键词,关键词"><!--<=76个字-->
		<meta name="description" content=""><!--<=80个字-->
		<!--js/css-->
		<style type="text/css">
		@charset "UTF-8";
		* {word-wrap: break-word;;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}
		html {-webkit-text-size-adjust: none;overflow-x:hidden}
		body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,form,fieldset,input,textarea,p,blockquote,th,td,span{padding:0;margin:0;}
		body{font:normal 0.75em/1.5em "微软雅黑","冬青黑体简体中文 w3","宋体"; }
		fieldset,img,html,body,iframe{border:0;}
		/** 重置表格元素 **/
		table{border-collapse:collapse;border-spacing:0;}
		ol,ul{list-style:none;}
		address,caption,cite,code,dfn,em,strong,th,var{font-weight:normal;font-style:normal;}
		caption,th{text-align:left;}
		em,i,small,caption,th{font-weight:normal;font-style:normal;font-size:100%;}
		h1,h2,h3,h4,h5,h6,em,strong,b{font-weight:400;font-size:100%;}
		q:before,q:after{content:'';}
		.clearfix{*zoom:1;}
		.clearfix:after{content:"."; display:block;clear:both;visibility:hidden;line-height:0;height:0;}
		a {color: #9D9C9C;text-decoration: none;}
		a img {border: none;border:0;}
		a,button{ outline:none; border:0;}
		input,select{border:1px solid #ccc;}
		button::-moz-focus-inner{border:0;padding:0;margin:0;}
		textarea,input,button,select{outline:0;font-size:inherit;line-height:inherit;color:inherit;font-family:inherit;}
		textarea{overflow:auto;resize:none;}
		.hide,.none{display: none}
		.hidden{visibility: hidden;}
		.show,.block{display: block;}
		img{ vertical-align:middle;}
		input:disabled,select:disabled,textarea:disabled{background:#ccc;}
		.fl{float: left;}
		.fr{float: right;}
		.red{color:red;}
		.green{color:green;}
		#box{width:560px;margin:100px auto;}
		#box li{height:40px;padding:0 15px;line-height:40px;margin-bottom:15px;background:#aaa;border-radius:3px;text-shadow:1px 1px  #ccc;font-size:14px;color:#fff}
		#box li a{float:right;margin-left:10px;background:#ccc;width:40px;text-align:center;border-radius:50%;box-shadow:-1px -1px 2px #333}
		</style>
	</head>  
	<body>
		<ul id="box">
			<li>元素1
				<a href="javascript:;" class="up">上</a>
				<a href="javascript:;" class="down">下</a>
			</li>
			<li>元素2
				<a href="javascript:;" class="up">上</a>
				<a href="javascript:;" class="down">下</a>
			</li>
			<li>元素3
				<a href="javascript:;" class="up">上</a>
				<a href="javascript:;" class="down">下</a>
			</li>
			<li>元素4
				<a href="javascript:;" class="up">上</a>
				<a href="javascript:;" class="down">下</a>
			</li>
			<li>元素5
				<a href="javascript:;" class="up">上</a>
				<a href="javascript:;" class="down">下</a>
			</li>
		</ul>
		<script>
			//获取元素  绑定事件
			var updoms = box.getElementsByClassName("up");
			var downdoms = box.getElementsByClassName("down");
			var lidomss = box.getElementsByTagName("li");
			var lidoms=Array.prototype.slice.call(lidomss);
			for(var i = 0 ;i<lidoms.length;i++){
				updoms[i].onclick=function(){
					changesLiDom(this.parentElement,"up");
				};
				downdoms[i].onclick=function(){
					changesLiDom(this.parentElement,"down");
				};
			};
			//添加点颜色看的明显
			for(var i=0;i<lidomss.length;i++){
				lidomss[i].style.backgroundColor="rgb("+Math.ceil(Math.random()*255)+","+Math.ceil(Math.random()*255)+","+Math.ceil(Math.random()*255)+")";
			}

			//改变li的顺序
			function changesLiDom(dom,updown){
				if(updown=="up"){
					var preDom=dom.previousElementSibling;
					if(preDom){
					dom.parentElement.insertBefore(dom,preDom);
					}else{
						alert("到顶了~");
					}
				}else if(updown=="down"){
					var nextDom=dom.nextElementSibling;
					if(nextDom){
					dom.parentElement.insertBefore(nextDom,dom);
					}else{
						alert("到顶了~");
					}
				}
				//原始版本
				/*var currLiDom=dom.parentElement;
					for(var i in lidoms){
						if(lidoms[i]==currLiDom){
							if(updown=="up"){
								if(i==0)return alert("到顶了~");
								var temp = lidoms[i-1];
								lidoms[i-1]=lidoms[i];
								lidoms[i]=temp;
								break;
							}
							if(updown=="down"){
								if(i==lidoms.length-1)return alert("到顶了~");
								var temp = lidoms[eval("1+"+i)];//这里坑惨了，记录下 for in 里面的 i居然是个字符串
								lidoms[eval("1+"+i)]=lidoms[i];
								lidoms[i]=temp;
								break;
							}
						}
					}
					//console.log(lidoms);
					for(var i in lidoms){//塞回去 如果元素存在 则就起到排序的作用
					box.appendChild(lidoms[i]);
					}
					*/
				}
		</script>
	</body>
</html>
