<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <style>
	*{padding:0;margin:0}
	body{font-size:14px;font-family:"微软雅黑";}
	a{text-decoration:none;color:#333}
	li{list-style:none}
	#box{width:930px;margin:10px auto;overflow:hidden;padding:10px 0 0 10px}
	#box li{float:left;margin:0 10px 10px 0;box-shadow:1px 1px 10px #222;}
	#box li img{width:300px;height:200px;display:block;}

  </style>
 </head>
 <body>

	<div id="box">
		<ul id="imgul">
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/1.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/2.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/3.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/4.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/5.jpg" src="images/loading.gif"/></li>
			<li><img data-src="images/6.jpg" src="images/loading.gif"/></li>
		</ul>
	</div>
	<script>
		window.onload = function(){
			//图片按需加载
			var imgDoms = imgul.getElementsByTagName("img");
			
			showImage();
			//滚动加载图片
			window.onscroll = showImage;
			function showImage(){
				var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;
				var clientHeight = window.innerHeight || document.body.clientHeight; 
				for(var i=0;i<imgDoms.length;i++){
					if(!imgDoms[i].load && getTop(imgDoms[i]) < scrollTop +clientHeight){
						imgDoms[i].src = imgDoms[i].getAttribute("data-src");
						imgDoms[i].load = true;
					}
				}
			}

			//imgDoms[i].offsetTop 如果是浮动布局
			//定位布局。offetTop	
			function getTop(obj){
				var top = 0;
				while(obj){
					top+=obj.offsetTop;
					obj = obj.offsetParent;
				}
				return top;
			}
			
		};
	</script>
 </body>
</html>
