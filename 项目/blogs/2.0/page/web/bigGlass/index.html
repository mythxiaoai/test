<!doctype html>
<html>
	<head>
	    <!--声明当前页面的编码集：中文编码（gbk/gb2312）,国际编码（utf-8）-->
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
		<!--页面三要素-->
		<title>国际标准模板</title><!--小于等于31 大小写不区分-->
		<meta name="Keywords" content="关键词,关键词,关键词"><!--<=76个字-->
		<meta name="description" content=""><!--<=80个字-->
		<!--js/css-->

		<script src="js/jquery-3.0.0.min.js"></script>

		<style type="text/css">
		@charset "UTF-8";
		* {word-wrap: break-word;;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}
		html {-webkit-text-size-adjust: none;overflow-x:hidden}
		body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,form,fieldset,input,textarea,p,blockquote,th,td,span{padding:0;margin:0;}
		body{font:normal 0.75em/1.5em "微软雅黑","冬青黑体简体中文 w3","宋体";background:#333; }
		fieldset,img,html,body,iframe{border:0;}
		/** 重置表格元素 **/
		table{border-collapse:collapse;border-spacing:0;}
		ol,ul{list-style:none;}
		address,caption,cite,code,dfn,em,strong,th,var{font-weight:normal;font-style:normal;}
		caption,th{text-align:left;}
		em,i,small,caption,th{font-weight:normal;font-style:normal;font-size:100%;}
		h1,h2,h3,h4,h5,h6,em,strong,b{font-weight:400;font-size:100%;}
		q:before,q:after{content:'';}
		.clearfix{*zoom:1;}
		.clearfix:after{content:"."; display:block;clear:both;visibility:hidden;line-height:0;height:0;}
		a {color: #9D9C9C;text-decoration: none;}
		a img {border: none;border:0;}
		a,button{ outline:none; border:0;}
		input,select{border:1px solid #ccc;}
		button::-moz-focus-inner{border:0;padding:0;margin:0;}
		textarea,input,button,select{outline:0;font-size:inherit;line-height:inherit;color:inherit;font-family:inherit;}
		textarea{overflow:auto;resize:none;}
		.hide,.none{display: none}
		.hidden{visibility: hidden;}
		.show,.block{display: block;}
		img{ vertical-align:middle;}
		input:disabled,select:disabled,textarea:disabled{background:#ccc;}
		.fl{float: left;}
		.fr{float: right;}
		.red{color:red;}
		.green{color:green;}

		.main{width:857px;margin:50px auto;}
		.main .title{font-size:34px;text-align:center;line-height:50px;color:#fff;margin-bottom:20px;text-shadow:1px 1px #aaa;}
		.main .imgDemo{width:418px;height:629px;border:1px solid #ccc;margin-right:15px;position:relative;}
		.main .getArea{position:absolute;top:0;left:0;width:209px;height:314.5px;background:url("images\\grain.png");display:none;cursor:move;}
		.main .showArea{width:412px;height:623px;border:1px solid #aaa;background-image:url("images\\1_big.jpg");
		background-repeat:no-repeat;display:none;}
		</style>
		
	</head>  
	<body>
		<div class="main">
			<h1 class="title">放大镜</h1>
			<div class="imgDemo fl">
				<img alt="福利" width="418" height="629" src="images//1.jpg"/>
				<div class="getArea"></div>
			</div>
			<div class="showArea fl"></div>
		</div>
		<script>
			$(function(){
				//onmouseover 移动事件
				var top=null;
				var left=null;
				$(".imgDemo").on("mousemove",function(e){
					 left =e.pageX-$(this).offset().left-$(".getArea").outerWidth()/2;
					 top =e.pageY-$(this).offset().top-$(".getArea").outerHeight()/2;
					if(left<0){
						left=0;
					}
					if(left>$(this).outerWidth()-$(".getArea").outerWidth()){
						left=$(this).outerWidth()-$(".getArea").outerWidth();
					}
					if(top<0){
						top=0;
					}
					if(top>$(this).outerHeight()-$(".getArea").outerHeight()){
						top=$(this).outerHeight()-$(".getArea").outerHeight();
					}
					$(".getArea").css({display:"block",left:left+"px",top:top+"px"});
					
					percentx = $(this).outerWidth()/$(".getArea").outerWidth();
					percenty = $(this).outerHeight()/$(".getArea").outerHeight();

					//给右边添加背景图片
					$(".showArea").css({display:"block","backgroundPosition":-percentx*left+"px "+" "+-percenty*top+"px"});
				});
				$(".imgDemo").on("mouseout",function(e){
					$(".showArea").hide();
					$(".getArea").hide();
				});
			});
		</script>
	</body>
</html>
