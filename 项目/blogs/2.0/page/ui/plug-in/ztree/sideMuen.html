<!DOCTYPE html>
<HTML>
<HEAD>
	<TITLE> ZTREE DEMO - Standard Data </TITLE>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" href="css/demo.css" type="text/css">
	<link rel="stylesheet" href="css/zTreeStyle/zTreeStyle.css" type="text/css">
	<script type="text/javascript" src="js/jquery-1.4.4.min.js"></script>
	<script type="text/javascript" src="js/jquery.ztree.core.js"></script>
	<script type="text/javascript" src="js/jquery.ztree.excheck.js"></script>
	<style>
		/*-------------------------------------
zTree Style

version:	3.5.19
author:		Hunter.z
email:		hunter.z@263.net
website:	http://code.google.com/p/jquerytree/

-------------------------------------*/
.ztree li a:hover {color:#fff;background: transparent;}
.ztree li{line-height:40px;}
.ztree li a{ height:40px;}
.ztree li a.curSelectedNode{color:#fff;border: none;}
.ztree li a.curSelectedNode_Edit{height:40px;}
.ztree li a.tmpTargetNode_inner{height:40px;}
.ztree li a input.rename{height:40px;}
.ztree li span{line-height:40px;}
</style>
	<SCRIPT type="text/javascript">
	var testi =1;
		var setting = {
			view:{
				dblClickExpand: false,
				showLine: false,
				showIcon:false
			},
			callback: {
				onClick:function(e,tid,tdom){
					var zTree = $.fn.zTree.getZTreeObj("treeDemo");
					zTree.expandNode(tdom);
					//$("#"+tdom.tId+"_switch").trigger("click");
					if(!tdom.isParent){//判断改结点是否有子接点
						$("#"+tdom.tId+"_check").trigger("click");
					}else{
						var nodes =tdom.children;
						$.each(nodes, function(index,node) {
						if(!node.isParent){
							$("#"+node.tId+"_switch").addClass("hide");
							//$("#"+node.tId+"_switch").css("background","red");
						}
					});
					}
				}
			}
		};

		var zNodes =[
			{ name:"父节点1 - 展开", open:true,
				children: [
					{ name:"父节点11 - 折叠",
						children: [
							{ name:"叶子节点111"},
							{ name:"叶子节点112"},
							{ name:"叶子节点113"},
							{ name:"叶子节点114"}
						]},
					{ name:"父节点12 - 折叠",
						children: [
							{ name:"叶子节点121"},
							{ name:"叶子节点122"},
							{ name:"叶子节点123"},
							{ name:"叶子节点124"}
						]},
					{ name:"父节点13 - 没有子节点", isParent:true}
				]},
				{ name:"父节点1 - 展开", open:true,
				children: [
					{ name:"父节点11 - 折叠",
						children: [
							{ name:"叶子节点111"},
							{ name:"叶子节点112"},
							{ name:"叶子节点113"},
							{ name:"叶子节点114"}
						]},
					{ name:"父节点12 - 折叠",
						children: [
							{ name:"叶子节点121"},
							{ name:"叶子节点122"},
							{ name:"叶子节点123"},
							{ name:"叶子节点124"}
						]},
					{ name:"父节点13 - 没有子节点", isParent:true}
				]},
				{ name:"父节点1 - 展开", open:true,
				children: [
					{ name:"父节点11 - 折叠",
						children: [
							{ name:"叶子节点111"},
							{ name:"叶子节点112"},
							{ name:"叶子节点113"},
							{ name:"叶子节点114"}
						]},
					{ name:"父节点12 - 折叠",
						children: [
							{ name:"叶子节点121"},
							{ name:"叶子节点122"},
							{ name:"叶子节点123"},
							{ name:"叶子节点124"}
						]},
					{ name:"父节点13 - 没有子节点", isParent:true}
				]},
			{ name:"父节点2 - 折叠",
				children: [
					{ name:"父节点21 - 展开", open:true,
						children: [
							{ name:"叶子节点211"},
							{ name:"叶子节点212"},
							{ name:"叶子节点213"},
							{ name:"叶子节点214"}
						]},
					{ name:"父节点22 - 折叠",
						children: [
							{ name:"叶子节点221"},
							{ name:"叶子节点222",},
							{ name:"叶子节点223"},
							{ name:"叶子节点224"}
						]},
					{ name:"父节点23 - 折叠",
						children: [
							{ name:"叶子节点231"},
							{ name:"叶子节点232"},
							{ name:"叶子节点233"},
							{ name:"叶子节点234"}
						]}
				]},
			{ name:"父节点3 - 没有子节点"}

		];

		$(document).ready(function(){
			$.fn.zTree.init($("#treeDemo"), setting, zNodes);
			$("#reset").click(function(){
				var zTree = $.fn.zTree.getZTreeObj("treeDemo");
					var nodes = zTree.getNodesByFilter(filter); // 查找节点集合
					function filter(node) {
					    return !node.isParent;
					}
			});
			
			
		});
	</SCRIPT>
</HEAD>

<BODY>
<h1>最简单的树 -- 标准 JSON 数据</h1>
<div class="content_wrap" style="background: #373E48;;">
		<ul id="treeDemo" class="ztree">
		</ul>
		<a href="#" id="reset">恢复</a>
</div>
</BODY>
</HTML>