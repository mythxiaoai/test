<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		
		<script>
			let data = [
				{id:"0",name:"爷爷",sex:0,bornTime:"2051-06-13",overTime:"",wife:"奶奶",pid:""},
				{id:"1",name:"大伯",sex:0,bornTime:"1969-03-17",overTime:"",wife:"大伯妈",pid:"0"},
				{id:"2",name:"爸爸",sex:0,bornTime:"1971-01-27",overTime:"",wife:"妈妈",pid:"0"},
				{id:"3",name:"大姑",sex:1,bornTime:"1965-05-17",overTime:"",wife:"",pid:"0"},
				{id:"4",name:"二姑",sex:1,bornTime:"1966-05-17",overTime:"",wife:"",pid:"0"},
				{id:"5",name:"三姑",sex:1,bornTime:"1967-05-17",overTime:"",wife:"",pid:"0"},
				{id:"6",name:"四姑",sex:1,bornTime:"1970-05-17",overTime:"",wife:"",pid:"0"},
				{id:"7",name:"我",sex:0,bornTime:"1993-05-20",overTime:"",wife:"灵",pid:"2"},
				{id:"8",name:"珊",sex:1,bornTime:"1995-06-29",overTime:"",wife:"",pid:"2"},
				{id:"9",name:"贝哥",sex:0,bornTime:"1990-05-17",overTime:"",wife:"倩",pid:"1"},
				{id:"10",name:"念姐",sex:1,bornTime:"1989-05-17",overTime:"",wife:"",pid:"1"},
				{id:"11",name:"测试",sex:1,bornTime:"2018-05-20",overTime:"",wife:"",pid:"7"},
			]
			let temp=[];
			for(let i in data){
				data[i].children = [];
			}
			let index = 0;
			//数据处理变  children
			function arrpush(arr){
				let markinto=true;
				for(let i=0;i<data.length;i++){
					for(let k=0;k<arr.length;k++){
						if(data.length>0){
							if(arr[k].id==data[i].pid){
								arr[k].children.push(data[i]);
								data.splice(i,1);
								i--;
								markinto = false;
								break;
							}
						}
						if(arr[k].children.length>0&&markinto){
							arrpush(arr[k].children);
						}
					}
				}
			}
			while(data.length>0){
				index = index%data.length;
				if(data[index].pid==""){
					temp.push(data[index]);
					data.splice(index,1);
					index--;
				}else{
					arrpush(temp);
				}
				index++;
			}
			console.log(temp);
			document.write("<pre>"+JSON.stringify(temp,null,4)+"</pre>")
		</script>
	</body>
</html>
